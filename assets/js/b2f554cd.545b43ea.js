"use strict";(self.webpackChunkprem_docs=self.webpackChunkprem_docs||[]).push([[1477],{30010:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"perplexity-ai-self-hosted","metadata":{"permalink":"/blog/perplexity-ai-self-hosted","editUrl":"https://github.com/premAI-io/dev-portal/blog/2023-07-01-perplexity-ai-self-hosted/index.md","source":"@site/blog/2023-07-01-perplexity-ai-self-hosted/index.md","title":"Build a Perplexity AI clone on Prem","description":"Clarity AI Screenshot","date":"2023-07-01T00:00:00.000Z","formattedDate":"July 1, 2023","tags":[{"label":"llm","permalink":"/blog/tags/llm"},{"label":"ai","permalink":"/blog/tags/ai"},{"label":"self-hosted","permalink":"/blog/tags/self-hosted"},{"label":"prem","permalink":"/blog/tags/prem"},{"label":"open-source","permalink":"/blog/tags/open-source"},{"label":"perplexity","permalink":"/blog/tags/perplexity"},{"label":"paperspace","permalink":"/blog/tags/paperspace"},{"label":"dolly","permalink":"/blog/tags/dolly"}],"readingTime":2.985,"hasTruncateMarker":true,"authors":[{"name":"Marco Argentieri","title":"Bitcoin wizard","url":"https://github.com/tiero","imageURL":"https://github.com/tiero.png","key":"tiero"}],"frontMatter":{"slug":"perplexity-ai-self-hosted","title":"Build a Perplexity AI clone on Prem","authors":["tiero"],"tags":["llm","ai","self-hosted","prem","open-source","perplexity","paperspace","dolly"]},"nextItem":{"title":"Hello Prem!","permalink":"/blog/hello-prem"}},"content":"![Clarity AI Screenshot](./screenshot.png)\\n\\nBuild your own Perplexity AI clone with [Prem](https://premai.io) using the `Dolly v2 12B` model, self-hosted on [Paperspace Cloud](https://www.paperspace.com/gpu-cloud) virtual server.\\n\\n\x3c!--truncate--\x3e\\n\\n## What is Perplexity AI?\\n\\nPerplexity AI is a conversational search engine and chatbot that acts as a search engine that scans the internet to provide users with straightforward answers to their questions. It is a great tool for students, researchers, and anyone who wants to learn more about a topic.\\n\\n## What is Prem?\\n\\nPrem is a self-hosted AI platform that allows you to test and deploy open-source AI models on your own infrastructure. Prem is open-source and free to use. You can learn more about Prem [here](https://premai.io).\\n\\n## How to build Perplexity AI on Prem\\n\\n\\n### Overview\\n\\nFor this tutorial we are going to use the **fantastic** open-source frontend [Clarity AI](https://github.com/mckaywrigley/clarity-ai) built by [Mckay Wrigley](https://github.com/mckaywrigley). \ud83d\udc4f Kudos to him for building such a great tool!\\n\\nSince `ClarityAI` uses ChatGPT by OpenAI, the integration with Prem it\'s staightforward as we only need to change the API endpoint and use a random string as API key, to skip the authentication.\\n\\nAs infrastructure, we are going to use [Paperspace Cloud](https://www.paperspace.com/gpu-cloud). You can use any other cloud provider or your own server with a NVIDIA GPU.\\n\\n\\n### Step 1: Clone the Clarity AI repository\\n\\nFirst, we need to clone the Clarity AI repository. We are going to use the follwing commit hash [`5a33db1`](https://github.com/mckaywrigley/clarity-ai/commit/5a33db140d253f47da3f07ad1475938c14dfda45) for future reference.\\n\\n```bash\\ngit clone https://github.com/mckaywrigley/clarity-ai\\n```\\n\\n### Step 2: Little tweaks (optional)\\n\\n\\n> \u2139\ufe0f **skip this step** You can use my own `clarity-ai` fork [github.com/tiero/clarity-ai](https://github.com/tiero/clarity-ai)\\n\\n***\\n\\n1. Open the `clarity-ai` project with your editor of choice. I\'m using [Visual Studio Code](https://code.visualstudio.com/).\\n\\n2. Open the `components/Search.tsx` file, at line 16 we need to pre-populate the `apiKey` state with a random string. \\n\\n\\n```typescript\\nconst [apiKey, setApiKey] = useState<string>(\\"X\\".repeat(51));\\n```\\n\\nThis is needed because we are not going to use the authentication system of OpenAI and Prem is currently exposing the endpoints without authentication.\\n\\n3. Open the `utils/answer.ts` file, at line 8 we need to change the API endpoint from OpenAI to be sourced from environment variable `NEXT_PUBLIC_API_URL`\\n\\n```typescript\\n`${process.env.NEXT_PUBLIC_API_URL}/v1/chat/completions`\\n```\\n\\nDone! \ud83c\udf89\\n\\n### Step 3: Install Prem on Paperspace\\n\\n\\nCreate a Paperspace account if you don\'t have one already, then login to the [Paperspace Console](https://console.paperspace.com/).\\n\\n1. Create a machine with the following specs:\\n\\n- **Machine Type**: `P6000`, `V100-32G`, `A100`, `A100-80G`, `A5000`, `A6000`\\n- **GPU**: `NVIDIA GPU`\\n- **Machine OS**: `ML-in-a-Box`\\n- **Machine Storage**: `50 GB`\\n- **Memory**: min 24 GiB\\n\\n2. Connect to the instance via SSH\\n\\n```bash\\nssh paperspace@<your-instance-ip>\\n```\\n\\n3. Install Prem\\n\\n```bash\\nwget -q https://get.prem.ninja/install.sh -O install.sh; sudo bash ./install.sh\\n```\\n\\n4. Check the app is live.\\n\\nVisit the following URL in your browser: `http://<your-instance-ip>:8000` to confirm the Prem App is up and running.\\n\\n### Step 4: Download the model \\n\\nFrom the Prem App, select the `Dolly v2 12B` model and click on the **dowload** icon.\\n\\n### Step 5: Run the model\\n\\nFrom the Prem App, select the `Dolly v2 12B` model and click on Open. This will start the container and open the chat UI. At this point we don\'t need the embedded user interface, so we can close it.\\n\\n### Step 6: Run the app\\n\\nNow back to the frontend, let\'s run it locally and connect to our Prem instance.\\n\\n1. Set the right environment variable \\n\\n```bash\\nexport NEXT_PUBLIC_API_URL=http://<your-instance-ip>:8000\\n```\\n\\n2. Install the dependencies\\n\\n```bash\\nnpm install\\n```\\n\\n3. Run the frontend\\n\\n```bash\\nnpm run dev\\n```\\n\\n\\n### Step 7: Enjoy!\\n\\nVisit the following URL in your browser: `http://localhost:3000` to start using your own Perplexity AI clone!"},{"id":"hello-prem","metadata":{"permalink":"/blog/hello-prem","editUrl":"https://github.com/premAI-io/dev-portal/blog/2021-08-26-welcome/index.md","source":"@site/blog/2021-08-26-welcome/index.md","title":"Hello Prem!","description":"Prem Banner","date":"2021-08-26T00:00:00.000Z","formattedDate":"August 26, 2021","tags":[{"label":"llm","permalink":"/blog/tags/llm"},{"label":"self-hosted","permalink":"/blog/tags/self-hosted"},{"label":"prem","permalink":"/blog/tags/prem"},{"label":"open-source","permalink":"/blog/tags/open-source"},{"label":"welcome","permalink":"/blog/tags/welcome"}],"readingTime":0.06,"hasTruncateMarker":false,"authors":[{"name":"Filippo Pedrazzini","title":"Core contributor @ PremAI","url":"https://github.com/filippopedrazzinifp","imageURL":"https://github.com/filippopedrazzinifp.png","key":"filippopedrazzinfp"}],"frontMatter":{"slug":"hello-prem","title":"Hello Prem!","authors":["filippopedrazzinfp"],"tags":["llm","self-hosted","prem","open-source","welcome"]},"prevItem":{"title":"Build a Perplexity AI clone on Prem","permalink":"/blog/perplexity-ai-self-hosted"}},"content":"![Prem Banner](./banner.png)\\n\\nThis is my first post on the Prem Developers Blog!"}]}')}}]);